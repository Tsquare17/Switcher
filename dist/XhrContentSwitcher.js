var XhrContentSwitcher=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function r(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var o=new WeakMap,i=new WeakMap,a=new WeakSet,l=new WeakSet,c=new WeakSet,s=function(){function s(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e(this,s),c.add(this),l.add(this),a.add(this),o.set(this,{writable:!0,value:"XhrContentSwitcher"}),i.set(this,{writable:!0,value:null}),this.containerSelector=t,this.linkSelector=n,this.debugging=r}var d,f,v;return d=s,(f=[{key:"init",value:function(){var e=this;this.container=r(this,a,u).call(this,this.containerSelector),document.addEventListener("DOMContentLoaded",(function(){document.querySelector("body").addEventListener("click",(function(t){t.target.classList.contains(e.linkSelector.replace(".",""))&&(t.preventDefault(),r(e,l,h).call(e,t))}));var t=document.querySelector(e.linkSelector);null!==t&&0!==t.length||!e.debugging||console.log(n(e,o)+": No elements of the class "+e.linkSelector+" were found")}))}},{key:"onSwitch",value:function(e){!function(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}(this,i,e)}}])&&t(d.prototype,f),v&&t(d,v),s}(),u=function(e){var t=document.querySelector(e);return null!==t&&0!==t.length||!this.debugging||console.log(n(this,o)+": No elements of the class "+e+" were found"),t},h=function(e){var t=this,o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){var a=(new DOMParser).parseFromString(o.responseText,"text/html");t.container.innerHTML=a.querySelector(t.containerSelector).innerHTML,r(t,c,d).call(t,e.target),n(t,i)&&n(t,i).call(t,e)}},o.open("GET",e.target,!0),o.send()},d=function(e){window.history.pushState(null,"",e)};return s}();
//# sourceMappingURL=XhrContentSwitcher.js.map
