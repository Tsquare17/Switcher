var XhrContentSwitcher=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function r(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var i=new WeakMap,a=new WeakMap,o=new WeakSet,l=new WeakSet,c=new WeakSet,s=new WeakSet,u=function(){function n(t,r){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e(this,n),s.add(this),c.add(this),l.add(this),o.add(this),i.set(this,{writable:!0,value:"XhrContentSwitcher"}),a.set(this,{writable:!0,value:null}),this.containerSelector=t,this.linkSelector=r,this.debugging=u}var u,f,v;return u=n,(f=[{key:"init",value:function(){var e=this;this.container=r(this,o,h).call(this,this.containerSelector),document.addEventListener("DOMContentLoaded",(function(){document.querySelector("body").addEventListener("click",(function(t){t.target.classList.contains(e.linkSelector.replace(".",""))&&(t.preventDefault(),r(e,l,d).call(e,t))})),r(e,s,w).call(e,e.linkSelector)}))}},{key:"onSwitch",value:function(e){!function(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}(this,a,e)}}])&&t(u.prototype,f),v&&t(u,v),n}(),h=function(e){return r(this,s,w).call(this,e)},d=function(e){var t=this,i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){var o=(new DOMParser).parseFromString(i.responseText,"text/html");t.container.innerHTML=o.querySelector(t.containerSelector).innerHTML,r(t,c,f).call(t,e.target),n(t,a)&&n(t,a).call(t,e)}},i.open("GET",e.target,!0),i.send()},f=function(e){window.history.pushState(null,"",e)},w=function(e){var t=document.querySelector(e);return null===t&&this.debugging&&console.log(n(this,i)+": No elements of the class "+e+" were found"),t};return u}();
//# sourceMappingURL=XhrContentSwitcher.js.map
